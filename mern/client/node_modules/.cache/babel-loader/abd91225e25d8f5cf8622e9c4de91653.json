{"ast":null,"code":"import _regeneratorRuntime from\"C:/Users/proto/OneDrive/Documents/GitHub/FlipTracker/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator\";import _asyncToGenerator from\"C:/Users/proto/OneDrive/Documents/GitHub/FlipTracker/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator\";import _slicedToArray from\"C:/Users/proto/OneDrive/Documents/GitHub/FlipTracker/mern/client/node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray\";import React,{useEffect,useState}from\"react\";import{Link}from\"react-router-dom\";import'./assets/styles.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Record=function Record(props){return/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"td\",{children:props.record.ItemName}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u3164\\u3164\",props.record.BuyPrice]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u3164\\u3164\",props.record.Quantity]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u3164\\u3164\\u3164\",props.record.SellPrice]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u3164\",props.record.Tax]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u3164\\u3164\\u3164\\u3164\\u3164\\u3164\\u3164\",props.record.IncleTax]}),/*#__PURE__*/_jsxs(\"td\",{children:[\"\\u3164\\u3164\",props.record.Profit]}),/*#__PURE__*/_jsxs(\"td\",{children:[/*#__PURE__*/_jsx(Link,{className:\"btn btn-link\",to:\"/edit/\".concat(props.record._id),children:\"Edit\"}),\" |\",/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-link\",onClick:function onClick(){props.deleteRecord(props.record._id);},children:\"Delete\"})]})]});};export default function RecordList(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),records=_useState2[0],setRecords=_useState2[1];// This method fetches the records from the database.\nuseEffect(function(){function getRecords(){return _getRecords.apply(this,arguments);}function _getRecords(){_getRecords=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee(){var response,message,records;return _regeneratorRuntime.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.next=2;return fetch(\"http://localhost:5000/record/\");case 2:response=_context.sent;if(response.ok){_context.next=7;break;}message=\"An error occured: \".concat(response.statusText);window.alert(message);return _context.abrupt(\"return\");case 7:_context.next=9;return response.json();case 9:records=_context.sent;setRecords(records);case 11:case\"end\":return _context.stop();}}},_callee);}));return _getRecords.apply(this,arguments);}getRecords();return;},[records.length]);// This method will delete a record\nfunction _deleteRecord2(_x){return _deleteRecord.apply(this,arguments);}// This method will map out the records on the table\nfunction _deleteRecord(){_deleteRecord=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime.mark(function _callee2(id){var newRecords;return _regeneratorRuntime.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(\"http://localhost:5000/\".concat(id),{method:\"DELETE\"});case 2:newRecords=records.filter(function(el){return el._id!==id;});setRecords(newRecords);case 4:case\"end\":return _context2.stop();}}},_callee2);}));return _deleteRecord.apply(this,arguments);}function recordList(){return records.map(function(record){return/*#__PURE__*/_jsx(Record,{record:record,deleteRecord:function deleteRecord(){return _deleteRecord2(record._id);}},record._id);});}//get props.record.Profit from the database and sums all the profits, if sum is < 0 id=\"earnings\" style.color=\"green\" else id=\"losses\" style.color=\"red\"\nfunction sumProfit(){var sum=0;for(var i=0;i<records.length;i++){sum+=records[i].Profit;}if(sum===0){return/*#__PURE__*/_jsx(\"h3\",{id:\"even\",style:{color:\"gold\",margin:\"auto\",textAlign:\"center\"},children:sum+\"\"});}else if(sum>0){return/*#__PURE__*/_jsx(\"h3\",{id:\"earnings\",style:{color:\"green\",margin:\"auto\",textAlign:\"center\"},children:sum+\" ↑\"});}else{return/*#__PURE__*/_jsx(\"h3\",{id:\"losses\",style:{color:\"red\",margin:\"auto\",textAlign:\"center\"},children:sum+\" ↓\"});}}// This following section will display the table with the records of individuals.\nreturn/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{style:{\"clear\":\"both\"},children:[/*#__PURE__*/_jsx(\"h2\",{style:{\"float\":\"left\",marginTop:\"1.5%\",marginLeft:\"5%\"},children:\"Flip Log\"}),/*#__PURE__*/_jsxs(\"h3\",{id:\"earnings\",style:{\"float\":\"right\",marginBottom:\"2%\",marginTop:\"1%\",marginRight:\"5%\"},children:[\"Total Earnings: \",sumProfit()]})]}),/*#__PURE__*/_jsxs(\"table\",{className:\"table table-striped\",style:{marginLeft:\"-1%\",width:\"103%\"},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsxs(\"tr\",{children:[/*#__PURE__*/_jsx(\"th\",{children:\"Item Name\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Buy Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Quantity\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Sell Price\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u3164Tax\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Profit (incl. Tax)\"}),/*#__PURE__*/_jsx(\"th\",{children:\"Total Profit\"}),/*#__PURE__*/_jsx(\"th\",{children:\"\\u3164\\u3164\\u3164\\u3164Actions\"})]})}),/*#__PURE__*/_jsx(\"tbody\",{children:recordList()})]})]});}","map":{"version":3,"sources":["C:/Users/proto/OneDrive/Documents/GitHub/FlipTracker/mern/client/src/components/recordList.js"],"names":["React","useEffect","useState","Link","Record","props","record","ItemName","BuyPrice","Quantity","SellPrice","Tax","IncleTax","Profit","_id","deleteRecord","RecordList","records","setRecords","getRecords","fetch","response","ok","message","statusText","window","alert","json","length","id","method","newRecords","filter","el","recordList","map","sumProfit","sum","i","color","margin","textAlign","marginTop","marginLeft","marginBottom","marginRight","width"],"mappings":"kiBAAA,MAAOA,CAAAA,KAAP,EAAgBC,SAAhB,CAA2BC,QAA3B,KAA2C,OAA3C,CACA,OAASC,IAAT,KAAqB,kBAArB,CACA,MAAO,qBAAP,C,wFAEA,GAAMC,CAAAA,MAAM,CAAG,QAATA,CAAAA,MAAS,CAACC,KAAD,qBACb,mCACE,oBAAKA,KAAK,CAACC,MAAN,CAAaC,QAAlB,EADF,cAEE,qCAAOF,KAAK,CAACC,MAAN,CAAaE,QAApB,GAFF,cAGE,qCAAOH,KAAK,CAACC,MAAN,CAAaG,QAApB,GAHF,cAIE,2CAAQJ,KAAK,CAACC,MAAN,CAAaI,SAArB,GAJF,cAKE,+BAAML,KAAK,CAACC,MAAN,CAAaK,GAAnB,GALF,cAME,mEAAYN,KAAK,CAACC,MAAN,CAAaM,QAAzB,GANF,cAOE,qCAAOP,KAAK,CAACC,MAAN,CAAaO,MAApB,GAPF,cAQE,mCACE,KAAC,IAAD,EAAM,SAAS,CAAC,cAAhB,CAA+B,EAAE,iBAAWR,KAAK,CAACC,MAAN,CAAaQ,GAAxB,CAAjC,kBADF,mBAEE,eAAQ,SAAS,CAAC,cAAlB,CACE,OAAO,CAAE,kBAAM,CACbT,KAAK,CAACU,YAAN,CAAmBV,KAAK,CAACC,MAAN,CAAaQ,GAAhC,EACD,CAHH,oBAFF,GARF,GADa,EAAf,CAsBA,cAAe,SAASE,CAAAA,UAAT,EAAsB,CACnC,cAA8Bd,QAAQ,CAAC,EAAD,CAAtC,wCAAOe,OAAP,eAAgBC,UAAhB,eAEA;AACAjB,SAAS,CAAC,UAAM,SACCkB,CAAAA,UADD,wIACd,sLACyBC,CAAAA,KAAK,iCAD9B,QACQC,QADR,kBAGOA,QAAQ,CAACC,EAHhB,yBAIUC,OAJV,6BAIyCF,QAAQ,CAACG,UAJlD,EAKIC,MAAM,CAACC,KAAP,CAAaH,OAAb,EALJ,8DASwBF,CAAAA,QAAQ,CAACM,IAAT,EATxB,QASQV,OATR,eAUEC,UAAU,CAACD,OAAD,CAAV,CAVF,uDADc,6CAcdE,UAAU,GAEV,OACD,CAjBQ,CAiBN,CAACF,OAAO,CAACW,MAAT,CAjBM,CAAT,CAmBA;AAvBmC,QAwBpBb,CAAAA,cAxBoB,iDAiCnC;AAjCmC,+FAwBnC,kBAA4Bc,EAA5B,4JACQT,CAAAA,KAAK,iCAA0BS,EAA1B,EAAgC,CACzCC,MAAM,CAAE,QADiC,CAAhC,CADb,QAKQC,UALR,CAKqBd,OAAO,CAACe,MAAR,CAAe,SAACC,EAAD,QAAQA,CAAAA,EAAE,CAACnB,GAAH,GAAWe,EAAnB,EAAf,CALrB,CAMEX,UAAU,CAACa,UAAD,CAAV,CANF,wDAxBmC,+CAkCnC,QAASG,CAAAA,UAAT,EAAsB,CACpB,MAAOjB,CAAAA,OAAO,CAACkB,GAAR,CAAY,SAAC7B,MAAD,CAAY,CAC7B,mBACE,KAAC,MAAD,EACE,MAAM,CAAEA,MADV,CAEE,YAAY,CAAE,8BAAMS,CAAAA,cAAY,CAACT,MAAM,CAACQ,GAAR,CAAlB,EAFhB,EAGOR,MAAM,CAACQ,GAHd,CADF,CAOD,CARM,CAAP,CASD,CACH;AACE,QAASsB,CAAAA,SAAT,EAAqB,CACnB,GAAIC,CAAAA,GAAG,CAAG,CAAV,CACA,IAAK,GAAIC,CAAAA,CAAC,CAAG,CAAb,CAAgBA,CAAC,CAAGrB,OAAO,CAACW,MAA5B,CAAoCU,CAAC,EAArC,CAAyC,CACvCD,GAAG,EAAIpB,OAAO,CAACqB,CAAD,CAAP,CAAWzB,MAAlB,CACD,CACD,GAAIwB,GAAG,GAAK,CAAZ,CAAe,CACb,mBAAO,WAAI,EAAE,CAAC,MAAP,CAAc,KAAK,CAAE,CAAEE,KAAK,CAAE,MAAT,CAAiBC,MAAM,CAAE,MAAzB,CAAiCC,SAAS,CAAE,QAA5C,CAArB,UAA6EJ,GAAG,CAAG,EAAnF,EAAP,CACD,CAFD,IAEO,IAAIA,GAAG,CAAG,CAAV,CAAa,CAClB,mBAAO,WAAI,EAAE,CAAC,UAAP,CAAkB,KAAK,CAAE,CAAEE,KAAK,CAAE,OAAT,CAAkBC,MAAM,CAAE,MAA1B,CAAkCC,SAAS,CAAE,QAA7C,CAAzB,UAAkFJ,GAAG,CAAG,IAAxF,EAAP,CACD,CAFM,IAEA,CACH,mBAAO,WAAI,EAAE,CAAC,QAAP,CAAgB,KAAK,CAAE,CAAEE,KAAK,CAAE,KAAT,CAAgBC,MAAM,CAAE,MAAxB,CAAgCC,SAAS,CAAE,QAA3C,CAAvB,UAA8EJ,GAAG,CAAG,IAApF,EAAP,CACH,CACF,CAID;AACA,mBACE,oCACE,aAAK,KAAK,CAAE,CAAE,QAAS,MAAX,CAAZ,wBACA,WAAI,KAAK,CAAE,CAAC,QAAS,MAAV,CAAkBK,SAAS,CAAE,MAA7B,CAAoCC,UAAU,CAAE,IAAhD,CAAX,sBADA,cAEA,YAAI,EAAE,CAAC,UAAP,CAAkB,KAAK,CAAE,CAAC,QAAS,OAAV,CAAmBC,YAAY,CAAE,IAAjC,CAAuCF,SAAS,CAAE,IAAlD,CAAuDG,WAAW,CAAE,IAApE,CAAzB,8BAAyHT,SAAS,EAAlI,GAFA,GADF,cAKE,eAAO,SAAS,CAAC,qBAAjB,CAAuC,KAAK,CAAE,CAACO,UAAU,CAAE,KAAb,CAAoBG,KAAK,CAAE,MAA3B,CAA9C,wBACE,oCACE,mCACE,iCADF,cAEE,iCAFF,cAGE,gCAHF,cAIE,kCAJF,cAKE,iCALF,cAME,0CANF,cAOE,oCAPF,cAQE,uDARF,GADF,EADF,cAaE,uBAAQZ,UAAU,EAAlB,EAbF,GALF,GADF,CAuBD","sourcesContent":["import React, { useEffect, useState } from \"react\";\nimport { Link } from \"react-router-dom\";\nimport './assets/styles.css';\n\nconst Record = (props) => (\n  <tr>\n    <td>{props.record.ItemName}</td>\n    <td>ㅤㅤ{props.record.BuyPrice}</td>\n    <td>ㅤㅤ{props.record.Quantity}</td>\n    <td>ㅤㅤㅤ{props.record.SellPrice}</td>\n    <td>ㅤ{props.record.Tax}</td>\n    <td>ㅤㅤㅤㅤㅤㅤㅤ{props.record.IncleTax}</td>\n    <td>ㅤㅤ{props.record.Profit}</td>\n    <td>\n      <Link className=\"btn btn-link\" to={`/edit/${props.record._id}`}>Edit</Link> |\n      <button className=\"btn btn-link\"\n        onClick={() => {\n          props.deleteRecord(props.record._id);\n        }}\n      >\n        Delete\n      </button>\n    </td>\n  </tr>\n);\n\nexport default function RecordList() {\n  const [records, setRecords] = useState([]);\n\n  // This method fetches the records from the database.\n  useEffect(() => {\n    async function getRecords() {\n      const response = await fetch(`http://localhost:5000/record/`);\n\n      if (!response.ok) {\n        const message = `An error occured: ${response.statusText}`;\n        window.alert(message);\n        return;\n      }\n\n      const records = await response.json();\n      setRecords(records);\n    }\n\n    getRecords();\n\n    return; \n  }, [records.length]);\n\n  // This method will delete a record\n  async function deleteRecord(id) {\n    await fetch(`http://localhost:5000/${id}`, {\n      method: \"DELETE\"\n    });\n\n    const newRecords = records.filter((el) => el._id !== id);\n    setRecords(newRecords);\n  }\n\n  // This method will map out the records on the table\n  function recordList() {\n    return records.map((record) => {\n      return (\n        <Record\n          record={record}\n          deleteRecord={() => deleteRecord(record._id)}\n          key={record._id}\n        />\n      );\n    });\n  }\n//get props.record.Profit from the database and sums all the profits, if sum is < 0 id=\"earnings\" style.color=\"green\" else id=\"losses\" style.color=\"red\"\n  function sumProfit() {\n    let sum = 0;\n    for (let i = 0; i < records.length; i++) {\n      sum += records[i].Profit;\n    }\n    if (sum === 0) {\n      return <h3 id=\"even\" style={{ color: \"gold\", margin: \"auto\", textAlign: \"center\"}}>{sum + \"\"}</h3>;\n    } else if (sum > 0) {\n      return <h3 id=\"earnings\" style={{ color: \"green\", margin: \"auto\", textAlign: \"center\"}}>{sum + \" ↑\"}</h3>;\n    } else {\n        return <h3 id=\"losses\" style={{ color: \"red\", margin: \"auto\", textAlign: \"center\"}}>{sum + \" ↓\"}</h3>;\n    }\n  }\n\n\n\n  // This following section will display the table with the records of individuals.\n  return (\n    <div>\n      <div style={{ \"clear\": \"both\"}}>\n      <h2 style={{\"float\": \"left\", marginTop: \"1.5%\",marginLeft: \"5%\"  }}>Flip Log</h2>\n      <h3 id=\"earnings\" style={{\"float\": \"right\", marginBottom: \"2%\", marginTop: \"1%\",marginRight: \"5%\"    }}>Total Earnings: {sumProfit()}</h3>\n      </div>\n      <table className=\"table table-striped\" style={{marginLeft: \"-1%\", width: \"103%\"}}>\n        <thead>\n          <tr>\n            <th>Item Name</th>\n            <th>Buy Price</th>\n            <th>Quantity</th>\n            <th>Sell Price</th>\n            <th>ㅤTax</th>\n            <th>Profit (incl. Tax)</th>\n            <th>Total Profit</th>\n            <th>ㅤㅤㅤㅤActions</th>\n          </tr>\n        </thead>\n        <tbody>{recordList()}</tbody>\n      </table>\n    </div>\n  );\n}\n"]},"metadata":{},"sourceType":"module"}